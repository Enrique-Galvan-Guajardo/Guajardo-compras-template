<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tabla de productos</title>
    <!--Links to stylesheets-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="./public/css/index.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Hind:300,400,500,600,700&display=swap">
    
    <!--Links to javascript files-->
    <!--Bootstrap 5-->
    <script src="./public/js/jquery-3.2.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
    <script src="https://kit.fontawesome.com/89ee7a970b.js" crossorigin="anonymous"></script>
</head>
<body>
    <div class="test">
        <div class="card text-center product-card">
            <div class="card-header">
                <p>Solicitud de pedido</p>
              <ul class="nav nav-tabs card-header-tabs" role="tablist">
                <li class="nav-item" role="presentation">
                    <a class="nav-link active" id="product-table-tab" data-toggle="tab" href="#product-table" role="tab" aria-controls="product-table" aria-selected="true">Añadir al pedido</a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Estadística</a>
                    <div class="dropdown-menu">
                      <a class="dropdown-item" id="most-asked-product-table-tab" data-toggle="tab" href="#most-asked-product-table" role="tab" aria-controls="most-asked-product-table" aria-selected="false">Más pedidos</a>
                      <a class="dropdown-item" id="less-asked-product-table-tab" data-toggle="tab" href="#less-asked-product-table" role="tab" aria-controls="less-asked-product-table" aria-selected="false">Menos pedidos</a>
                      <div class="dropdown-divider"></div>
                      <a class="dropdown-item" id="match-failed-product-table-tab" data-toggle="tab" href="#match-failed-product-table" role="tab" aria-controls="match-failed-product-table" aria-selected="false">Productos que más han fallado en match</a>
                    </div>
                  </li>
              </ul>
            </div>
            <div class="card-body tab-content">
                <div class="tab-pane fade show active" id="product-table" role="tabpanel" aria-labelledby="product-table-tab">
                    <h3 class="card-title">Lista de productos</h3>
                    <p>Selecciona los productos y cantidades necesarias para esta orden.</p>
                    <div class="order-filter-setup">
                      
                      <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
                        <li class="nav-item ml-auto" role="presentation">
                          <a class="nav-link active" id="pills-search-tab" data-toggle="pill" href="#pills-search" role="tab" aria-controls="pills-search" aria-selected="true">
                            Buscar
                          </a>
                        </li>
                        <li class="nav-item" role="presentation">
                          <a class="nav-link" id="pills-filter-tab" data-toggle="pill" href="#pills-filter" role="tab" aria-controls="pills-filter" aria-selected="false">
                            Filtrar por
                          </a>
                        </li>
                      </ul>
                      <div class="tab-content" id="pills-tabContent">
                        <div class="tab-pane fade show active" id="pills-search" role="tabpanel" aria-labelledby="pills-search-tab">
                          <div class="input-group mb-3">
                            <div class="input-group-prepend">
                              <span class="input-group-text">
                                <svg class="icon-xsm busqueda-hd"></svg>
                              </span>
                            </div>
                            <input id="input-products-search" type="text" class="form-control" aria-label="Input for search" aria-describedby="inputGroup-search-bar" placeholder="Escribe...">
                             
                          </div>
                        </div>
                        <div class="tab-pane fade" id="pills-filter" role="tabpanel" aria-labelledby="pills-filter-tab">
                          <div class="row">
                            <div class="input-group mb-3 col-12 col-sm-6">
                              <div class="input-group-prepend">
                                <label class="input-group-text" for="inputProductCategory">Categoría</label>
                              </div>
                              <select class="custom-select" id="inputProductCategory">
                                <option selected value="all">Seleccionar...</option>
                                <option value="Frutas y Verduras">Frutas y Verduras</option>
                                <option value="Panadería">Panadería</option>
                                <option value="Carnicería">Carnicería</option>
                              </select>
                            </div>
                            <div class="input-group mb-3 col-12 col-sm-6">
                              <div class="input-group-prepend">
                                <label class="input-group-text" for="inputProductSubCategory">Sub Categoría</label>
                              </div>
                              <select class="custom-select" id="inputProductSubCategory">
                                <option selected value="all">Seleccionar...</option>
                                <option value="Tomate">Tomate</option>
                                <option value="Pan de molde">Pan de molde</option>
                                <option value="Carnes rojas">Carnes rojas</option>
                                <option value="Carnes blancas">Carnes blancas</option>
                              </select>
                            </div>
                          </div>
                        </div>
                      </div>

                      <input type="hidden" name="filter_value">
                    </div>
                    
                    <div class="table-space">
                      <table id="order-table" class="table table-striped table-hover table-responsive">
                          <thead class="thead-dark">
                            <tr>
                              <th scope="col">#</th>
                              <th scope="col">Nombre</th>
                              <th class="hide-th" scope="col">Familia</th>
                              <th class="hide-th" scope="col">Sub Familia</th>
                              <th scope="col">Cantidad</th>
                              <th class="hide-th" scope="col">Presentación</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr id="product_item_1" class="row-item">
                              <th scope="row">
                                <p>1</p>
                                <div class="product_item_tag mt-4"></div>
                              </th>
                              <td class="row-item-spec">
                                <p class="mt-2 mb-0">Tomate saladette</p>
                                <div title="Frutas y Verduras > Tomate">
                                  <svg class="icon-xl tomate-hd"></svg>
                                </div>
                              </td>
                              <td class="hide-td">Frutas y Verduras</td>
                              <td class="hide-td">Tomate</td>
                              <td class="row-item-count hide-input">
                                <div class="input-group">
                                  <div class="input-group-prepend">
                                    <button class="btn btn-outline-info" type="button"><div>+</div></button>
                                  </div>
                                  <input id="product_item_1_count" type="number" class="form-control" placeholder="Ingresar cantidad" aria-label="Conjunto de botónes para producto" aria-describedby="Conjunto de botónes para cantidad de unidades" value="0">
                                  <div class="input-group-prepend">
                                    <button class="btn btn-outline-danger" type="button"><div>-</div></button>
                                  </div>
                                </div>
                                <div>
                                  <div><span>0</span>&nbsp;<small class="text-muted">Cajas</small></div>
                                  <svg class="icon-lg caja-hd"></svg>
                                </div>
                              </td>
                              <td class="hide-td">Caja</td>
                            </tr>
                            <tr id="product_item_2" class="row-item">
                              <th scope="row">
                                <p>2</p>
                                <div class="product_item_tag mt-4"></div>
                              </th>
                              <td class="row-item-spec">
                                <p class="mt-2 mb-0">Pan blanco</p>
                                <div title="Panadería > Pan de molde">
                                  <svg class="icon-xl pan-de-molde-hd"></svg>
                                </div>
                              </td>
                              <td class="hide-td">Panadería</td>
                              <td class="hide-td">Pan de molde</td>
                              <td class="row-item-count hide-input">
                                <div class="input-group">
                                  <div class="input-group-prepend">
                                    <button class="btn btn-outline-info" type="button"><div>+</div></button>
                                  </div>
                                  <input id="product_item_2_count" type="number" class="form-control" placeholder="Ingresar cantidad" aria-label="Conjunto de botónes para producto" aria-describedby="Conjunto de botónes para cantidad de unidades" value="0">
                                  <div class="input-group-prepend">
                                    <button class="btn btn-outline-danger" type="button"><div>-</div></button>
                                  </div>
                                </div>
                                <div>
                                  <div><span>0</span>&nbsp;<small class="text-muted">Bolsas</small></div>
                                  <svg class="icon-lg bolsa-hd"></svg>
                                </div>
                              </td>
                              <td class="hide-td">Bolsa</td>
                            </tr>
                            <tr id="product_item_3" class="row-item">
                              <th scope="row">
                                <p>3</p>
                                <div class="product_item_tag mt-4"></div>
                              </th>
                              <td class="row-item-spec">
                                <p class="mt-2 mb-0">Carne de res</p>
                                <div title="Carnicería > Carnes rojas">
                                  <svg class="icon-xl carne-hd"></svg>
                                </div>
                              </td>
                              <td class="hide-td">Carnicería</td>
                              <td class="hide-td">Carnes rojas</td>
                              <td class="row-item-count hide-input">
                                <div class="input-group">
                                  <div class="input-group-prepend">
                                    <button class="btn btn-outline-info" type="button"><div>+</div></button>
                                  </div>
                                  <input id="product_item_3_count" type="number" class="form-control" placeholder="Ingresar cantidad" aria-label="Conjunto de botónes para producto" aria-describedby="Conjunto de botónes para cantidad de unidades" value="0">
                                  <div class="input-group-prepend">
                                    <button class="btn btn-outline-danger" type="button"><div>-</div></button>
                                  </div>
                                </div>
                                <div>
                                  <div><span>0</span>&nbsp;<small class="text-muted">Kilogramos</small></div>
                                  <svg class="icon-lg kilogramos-hd"></svg>
                                </div>
                              </td>
                              <td class="hide-td">Kilogramos</td>
                            </tr>
                            <tr id="product_item_4" class="row-item">
                              <th scope="row">
                                <p>4</p>
                                <div class="product_item_tag mt-4"></div>
                              </th>
                              <td class="row-item-spec">
                                <p class="mt-2 mb-0">Galletas oreo</p>
                                <div title="Dulcería > Galletas">
                                  <svg class="icon-xl galletas-hd"></svg>
                                </div>
                              </td>
                              <td class="hide-td">Dulcería</td>
                              <td class="hide-td">Galletas</td>
                              <td class="row-item-count hide-input">
                                <div class="input-group">
                                  <div class="input-group-prepend">
                                    <button class="btn btn-outline-info" type="button"><div>+</div></button>
                                  </div>
                                  <input id="product_item_4_count" type="number" class="form-control" placeholder="Ingresar cantidad" aria-label="Conjunto de botónes para producto" aria-describedby="Conjunto de botónes para cantidad de unidades" value="0">
                                  <div class="input-group-prepend">
                                    <button class="btn btn-outline-danger" type="button"><div>-</div></button>
                                  </div>
                                </div>
                                <div>
                                  <div><span>0</span>&nbsp;<small class="text-muted">Paquetes</small></div>
                                  <svg class="icon-lg paquete-hd"></svg>
                                </div>
                              </td>
                              <td class="hide-td">Paquetes</td>
                            </tr>
                            <tr id="product_item_5" class="row-item">
                              <th scope="row">
                                <p>5</p>
                                <div class="product_item_tag mt-4"></div>
                              </th>
                              <td class="row-item-spec">
                                <p class="mt-2 mb-0">Queso manchego</p>
                                <div title="Lácteos > Quesos">
                                  <svg class="icon-xl queso-hd"></svg>
                                </div>
                              </td>
                              <td class="hide-td">Lácteos</td>
                              <td class="hide-td">Quesos</td>
                              <td class="row-item-count hide-input">
                                <div class="input-group">
                                  <div class="input-group-prepend">
                                    <button class="btn btn-outline-info" type="button"><div>+</div></button>
                                  </div>
                                  <input id="product_item_5_count" type="number" class="form-control" placeholder="Ingresar cantidad" aria-label="Conjunto de botónes para producto" aria-describedby="Conjunto de botónes para cantidad de unidades" value="0">
                                  <div class="input-group-prepend">
                                    <button class="btn btn-outline-danger" type="button"><div>-</div></button>
                                  </div>
                                </div>
                                <div>
                                  <div><span>0</span>&nbsp;<small class="text-muted">Pieza</small></div>
                                  <svg class="icon-lg pieza-hd"></svg>
                                </div>
                              </td>
                              <td class="hide-td">Pieza</td>
                            </tr>
                            <tr id="product_item_6" class="row-item">
                              <th scope="row">
                                <p>6</p>
                                <div class="product_item_tag mt-4"></div>
                              </th>
                              <td class="row-item-spec">
                                <p class="mt-2 mb-0">Pescado</p>
                                <div title="Carnicería > Carnes blancas">
                                  <svg class="icon-xl pez-hd"></svg>
                                </div>
                              </td>
                              <td class="hide-td">Carnicería</td>
                              <td class="hide-td">Carnes blancas</td>
                              <td class="row-item-count hide-input">
                                <div class="input-group">
                                  <div class="input-group-prepend">
                                    <button class="btn btn-outline-info" type="button"><div>+</div></button>
                                  </div>
                                  <input id="product_item_6_count" type="number" class="form-control" placeholder="Ingresar cantidad" aria-label="Conjunto de botónes para producto" aria-describedby="Conjunto de botónes para cantidad de unidades" value="0">
                                  <div class="input-group-prepend">
                                    <button class="btn btn-outline-danger" type="button"><div>-</div></button>
                                  </div>
                                </div>
                                <div>
                                  <div><span>0</span>&nbsp;<small class="text-muted">Kilogramos</small></div>
                                  <svg class="icon-lg kilogramos-hd"></svg>
                                </div>
                              </td>
                              <td class="hide-td">Kilogramos</td>
                            </tr>
                          </tbody>
                      </table>
                    </div>
                </div>
                <div class="tab-pane fade" id="most-asked-product-table" role="tabpanel" aria-labelledby="most-asked-product-table-tab">
                    <h5 class="card-title">Más solicitados</h5>
                    <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
                    <a href="#" class="btn btn-primary">Go somewhere</a>
                </div>
                <div class="tab-pane fade" id="less-asked-product-table" role="tabpanel" aria-labelledby="less-asked-product-table-tab">
                    <h5 class="card-title">Menos solicitados</h5>
                    <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
                    <a href="#" class="btn btn-primary">Go somewhere</a>
                </div>
                <div class="tab-pane fade" id="match-failed-product-table" role="tabpanel" aria-labelledby="match-failed-product-table-tab">
                    <h5 class="card-title">Productos que más fallan en coincidencias</h5>
                    <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
                    <a href="#" class="btn btn-primary">Go somewhere</a>
                </div>
            </div>
          </div>
    </div>
    <script>
      // Obtener la lista UL
      const order_table = document.getElementById('order-table');
      
      // Obtener el input de búsqueda
      const text_product_search = document.getElementById('input-products-search');
      const select_product_category = document.getElementById('inputProductCategory');
      const select_product_subcategory = document.getElementById('inputProductSubCategory');
      let text_filters = [
            { input_text: ''},
            { select_category_text: '' },
            { select_subcategory_text: '' }
          ];
      // Obtener todos los elementos LI de la lista
      const items_tr = order_table.getElementsByTagName('tbody')[0].getElementsByTagName('tr');

      // Recorrer cada elemento LI y agregar el evento de clic
      for (let i = 0; i < items_tr.length; i++) {
        // Permite mostrar u ocultar los campos para añadir productos
        items_tr[i].getElementsByClassName('row-item-count')[0].children[1].addEventListener('click', function() {
          this.parentElement.classList.toggle('hide-input');
          this.parentElement.classList.toggle('show-input');
        });
        // Determinar el si el producto será catalogado con una etiqueta o no en caso de haber una cantidad solicitada
        function set_Product_Tag(id, val) {
          // Buscaremos en toda la tabla el elemento que actualizaremos or su ID
          let td_item_row = order_table.querySelector('#'+id);
          // Si el elemento tiene un valor mayor a 0, es que será solicitado
          if (val > 0) {
            // Si se solicita, se le asignará su respectiva clase de añadido
            td_item_row.classList.add("row-item-added")
          }else{
            // Si no se solicita, se le eliminará la clase en caso de que anteriormente se haya agregado
            td_item_row.classList.remove("row-item-added")
          }
        }
        // Determinar el objeto
        function det_Object(element) {
          let item_id = element.id
          let input_count = element.querySelector('#'+item_id+'_count')
          let tag_count = element.children[4].children[1].children[0].children[0]
          
          let row_object = [
            { id: item_id},
            { input_count: input_count },
            { tag_count: tag_count }
          ];
          
          return row_object;
        }
        // Permite VERIFICAR input productos
        function check_Product(element) {
          // Se confirma que el valor del elemento sea inferior a 0
          if (element[1].input_count.value < 0) {
            // En caso de ser un número negativo, se actualizará el input a 0, de esa manera bloquear el ingreso de números negativos al teclearlos
            element[1].input_count.value = parseInt(0);
            // Por consecuencia, la etiqueta también se actualizará a 0
            element[2].tag_count.innerHTML = parseInt(element[1].input_count.value);
          }else if (element[1].input_count.value === '') {
            // En caso de que se eliminen todos los números en el campo y quede vacío, se actualizará el input a 0
            element[1].input_count.value = parseInt(0);
            // Por consecuencia, la etiqueta también se actualizará a 0
            element[2].tag_count.innerHTML = parseInt(element[1].input_count.value);
          }else{
            // Por contrario, si el valor ingresado por teclado es mayor a 0, la etiqueta también se actualizará al valor del input
            element[2].tag_count.innerHTML = parseInt(element[1].input_count.value);
          }
          // Se enviará la información del elemento a la función que lo catalogue
          set_Product_Tag(element[0].id, parseInt(element[1].input_count.value))
        }
        // Permite SUMAR productos
        function sum_Product(element, update) {
          // Se verifica que el valor de update sea verdadero
          if (update){
            // Si es verdadero, significa que fue llamado desde el botón + y requiere sumarse el valor al input y actualizar la etiqueta
            element[1].input_count.value = parseInt(element[1].input_count.value) + 1;
            // Se actualiza la etiqueta con respecto al valor del input
            element[2].tag_count.innerHTML = element[1].input_count.value;
          }else{
            // Si es falso, significa que el valor se está ingresando por las teclas flecha ARRIBA, por lo cual el input se actualiza automáticamente y sólo resta actualizar la etiqueta
            element[2].tag_count.innerHTML = parseInt(element[1].input_count.value) + 1;
          }
          // Se enviará la información del elemento a la función que lo catalogue
          set_Product_Tag(element[0].id, parseInt(element[1].input_count.value))
        }
        // Permite ELIMINAR productos
        function del_Product(element, update) {
          // Se verifica que el valor dentro del input sea mayor a 0
          if (element[1].input_count.value > 0) {
            // Se verifica que el valor de update sea verdadero
            if (update){
              // Si es verdadero, significa que fue llamado desde el botón - y requiere restar el valor al input y actualizar la etiqueta
              element[1].input_count.value = parseInt(element[1].input_count.value) - 1;
              // Se actualiza la etiqueta con respecto al valor del input
              element[2].tag_count.innerHTML = element[1].input_count.value;
            }else{
              // Si es falso, significa que el valor se está ingresando por las teclas flecha ABAJO y flecha ABAJO, por lo cual el input se actualiza automáticamente y sólo resta actualizar la etiqueta
              element[2].tag_count.innerHTML = parseInt(element[1].input_count.value) - 1;
            }
          }else if (element[1].input_count.value == 0 && !update){
            // Si el valor del input es igual a 0 y el valor de update es falso, significa que se está intentando actualizar el input con flecha ABAJO hacia valores negativos, lo cual no está permitido, entonces siempre se sumará un 1 cuando intente llegar a -1 regresándolo a 0 causando un bloqueo a números negativos
            element[1].input_count.value = parseInt(element[1].input_count.value) + 1;
          }
          // Se enviará la información del elemento a la función que lo catalogue
          set_Product_Tag(element[0].id, parseInt(element[1].input_count.value))
        }
        // Agregar un evento al botón +
        items_tr[i].getElementsByClassName('row-item-count')[0].children[0].children[0].children[0].addEventListener('click', function() {
          // Función para crear un array del input
          let rowObject = det_Object(this.parentElement.parentElement.parentElement.parentElement);
          // Función para sumar dentro del input
          sum_Product(rowObject, true);
        });
        // Agregar un evento al botón -
        items_tr[i].getElementsByClassName('row-item-count')[0].children[0].children[2].children[0].addEventListener('click', function() {
          // Función para crear un array del input
          let rowObject = det_Object(this.parentElement.parentElement.parentElement.parentElement);
          // Función para restar dentro del input
          del_Product(rowObject, true);
        });
        // Agregar un evento keydown al input
        items_tr[i].getElementsByClassName('row-item-count')[0].children[0].children[1].addEventListener('keydown', function(event) {
          // Verificar si se presionó la tecla "Arriba" (código 38) o "Abajo" (código 40)
          if (event.keyCode === 38) { // Flecha "Arriba"
            // Función para crear un array del input
            let rowObject = det_Object(this.parentElement.parentElement.parentElement);
            // Función para sumar dentro del input
            sum_Product(rowObject, false);
          } else if (event.keyCode === 40) { // Flecha "Abajo"
            // Función para crear un array del input
            let rowObject = det_Object(this.parentElement.parentElement.parentElement);
            // Función para restar dentro del input
            del_Product(rowObject, false);          
          }
        });
        // Agregar un evento input al input
        items_tr[i].getElementsByClassName('row-item-count')[0].children[0].children[1].addEventListener('input', function() {
          // Función para crear un array del input
          let rowObject = det_Object(this.parentElement.parentElement.parentElement);
          // Función para verificar si se tecleó el número y cumple con no ser inferior a 0
          check_Product(rowObject);          
        });
      }

      // Cada que se escriba dentro del input, se ejecutará la función de búsqueda dentro de la tabla
      text_product_search.addEventListener('input', function () {
        // Obtener el texto del input
        text_filters[0].input_text = this.value.toLowerCase();
        search_For();
      })      
      // Cada que se selecciona un texto del filtro select, se buscará en cada tr de toda la tabla
      select_product_category.addEventListener('change', function () {
        // Obtener el texto del select
        text_filters[1].select_category_text = this.value.toLowerCase();
        
        search_For();
      })     
      // Cada que se selecciona un texto del filtro select, se buscará en cada tr de toda la tabla
      select_product_subcategory.addEventListener('change', function () {
        // Obtener el texto del select
        text_filters[2].select_subcategory_text = this.value.toLowerCase();
        
        search_For();
      })      
      
      function search_For() {
          // Recorrer cada elemento tr para leer los textos 
        for (let i = 0; i < items_tr.length; i++) {
          // Buscar en cada tr uno por uno 
          let tr = items_tr[i];
          // Buscar entre ciertos td la información escrita relevante para la búsqueda 
          let td = tr.getElementsByTagName('td');


          // Capturar la información de rutas específicas dentro del td 
          let prod_name = td[0].children[0].textContent.toLowerCase();
          // Capturar la información de rutas específicas dentro del td 
          let prod_cat = td[1].textContent.toLowerCase();
          // Capturar la información de rutas específicas dentro del td 
          let prod_sub_cat = td[2].textContent.toLowerCase();

          if (text_filters[1].select_category_text === 'all') {
            tr.classList.remove('hide-tr') 
            select_product_subcategory.selectedIndex = 0;    
          }else{
            if ((prod_cat.includes(text_filters[1].select_category_text))) {
              tr.classList.remove('hide-tr') 
              
              if ((text_filters[2].select_subcategory_text === 'all')) {
                tr.classList.remove('hide-tr') 
              }else{
                if ((prod_cat.includes(text_filters[1].select_category_text)) &&
                (prod_sub_cat.includes(text_filters[2].select_subcategory_text))) {
                  tr.classList.remove('hide-tr') 
                }else{
                  tr.classList.add('hide-tr')
                }
              }
            }else{
              tr.classList.add('hide-tr')
            }
          }
                
          

          /*
          if (text_filters[1].select_category_text === '' &
          text_filters[2].select_subcategory_text === '') {
            
          }
          if ((text_filters[0].input_text === '' || prod_name.includes(text_filters[0].input_text)) &&
          (text_filters[1].select_category_text === '' || prod_cat === text_filters[1].select_category_text) &&
          (text_filters[2].select_subcategory_text === '' || prod_sub_cat === text_filters[2].select_subcategory_text)) {
          }else{
          }
          
          */
          // Verificar que el texto ingresado a buscar coincida con los textos en las rutas específicas 
        }
      }
    </script> 
</body>
</html>